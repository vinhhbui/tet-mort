<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>H·ª©ng L√¨ X√¨ - T·∫øt Y√™u Th∆∞∆°ng</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        /* --- GI·ªÆ NGUY√äN CSS C≈® --- */
        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
            background-color: #a00000;
            background-image: radial-gradient(#d60000 15%, transparent 16%), radial-gradient(#d60000 15%, transparent 16%);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
            font-family: 'Nunito', sans-serif;
            touch-action: none;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            color: #ffeb3b;
            font-size: 3rem;
            margin: 0 0 20px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            text-align: center;
            padding: 0 20px;
        }

        p {
            color: #fff;
            font-size: 1.2rem;
            text-align: center;
            margin-bottom: 20px;
        }

        .btn-main {
            background: linear-gradient(to bottom, #ffeb3b, #fbc02d);
            border: 2px solid #fff;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.5rem;
            color: #d50000;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: transform 0.2s;
            animation: pulse 2s infinite;
        }

        .btn-main:active {
            transform: scale(0.95);
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 235, 59, 0.7);
            }

            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(255, 235, 59, 0);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 235, 59, 0);
            }
        }

        #start-screen {
            display: flex;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
        }

        .tutorial {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            margin-bottom: 30px;
        }

        #game-screen {
            display: none;
            z-index: 5;
        }

        #score-board {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #fff;
            color: #d50000;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            border: 2px solid #ffeb3b;
        }

        #player {
            position: absolute;
            bottom: 30px;
            width: 80px;
            height: 80px;
            font-size: 70px;
            line-height: 80px;
            text-align: center;
            filter: drop-shadow(0 5px 5px rgba(0, 0, 0, 0.3));
            transition: left 0.05s linear;
            z-index: 6;
        }

        .item {
            position: absolute;
            font-size: 45px;
            z-index: 5;
            filter: drop-shadow(0 2px 2px rgba(0, 0, 0, 0.2));
        }

        #win-screen {
            background: rgba(0, 0, 0, 0.85);
            z-index: 20;
        }

        .card {
            background: #fff;
            width: 85%;
            max-width: 400px;
            padding: 30px 20px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 0 20px #ffeb3b;
            position: relative;
            border: 2px solid #d50000;
        }

        .card h2 {
            color: #d50000;
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            margin-top: 0;
        }

        .card p {
            color: #333;
            font-size: 1.3rem;
            margin-bottom: 40px;
        }

        .btn-group {
            position: relative;
            height: 60px;
            width: 100%;
        }

        .btn-option {
            padding: 10px 25px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.1rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-yes {
            background: #d50000;
            color: #fff;
            position: absolute;
            left: 20%;
            transform: translateX(-50%);
            z-index: 22;
        }

        .btn-no {
            background: #e0e0e0;
            color: #555;
            position: absolute;
            right: 20%;
            transform: translateX(50%);
            z-index: 22;
        }

        .flower-bg {
            position: absolute;
            top: -50px;
            font-size: 20px;
            animation: fall linear infinite;
            z-index: 1;
            opacity: 0.6;
        }

        @keyframes fall {
            100% {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* --- CSS SLIDESHOW --- */
        #final-msg {
            display: none;
            margin-top: 10px;
        }

        .slideshow-container {
            position: relative;
            max-width: 100%;
            height: 300px;
            /* Ch·ªânh chi·ªÅu cao ·∫£nh */
            margin: auto;
            border-radius: 15px;
            overflow: hidden;
            border: 3px solid #d50000;
            box-shadow: 0 0 15px #ffeb3b;
            background: #000;
            /* N·ªÅn ƒëen ƒë·ªÉ ·∫£nh n·ªïi b·∫≠t */
        }

        .mySlides {
            display: none;
            height: 100%;
            width: 100%;
        }

        .mySlides img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            /* Gi·ªØ nguy√™n t·ªâ l·ªá ·∫£nh */
        }

        .fade {
            animation-name: fade;
            animation-duration: 1.5s;
        }

        @keyframes fade {
            from {
                opacity: .4
            }

            to {
                opacity: 1
            }
        }
    </style>
</head>

<body>

    <div id="start-screen" class="screen" style="display: flex;">
        <div style="font-size: 4rem; margin-bottom: 10px;">üßß</div>
        <h1>H√°i L·ªôc ƒê·∫ßu Xu√¢n</h1>
        <div class="tutorial">
            <p>Di chuy·ªÉn t√∫i üëú ƒë·ªÉ h·ª©ng qu√†!</p>
            <p>M·ª•c ti√™u: <strong>20 ƒëi·ªÉm</strong></p>
        </div>
        <button class="btn-main" onclick="startGame()">V√†o Game</button>
    </div>

    <div id="game-screen" class="screen">
        <div id="score-board">ƒêi·ªÉm: <span id="score">0</span>/20</div>
        <div id="player">üëú</div>
    </div>

    <div id="win-screen" class="screen">
        <div class="card">
            <h2>Cung H·ª∑ T√¢n Ni√™n!</h2>
            <div id="question-area">
                <p id="q-text">W√¨n √πi, b√© Mort B·ªçt l√†m T·∫øt c·ªßa tui nhen? üå∏</p>
                <div class="btn-group" id="btn-area">
                    <button class="btn-option btn-yes" id="btnYes">ƒê·ªìng √≠</button>
                    <button class="btn-option btn-no" id="btnNo">Hong</button>
                </div>
            </div>

            <div id="final-msg">
                <p style="color: #d50000; font-weight: bold; font-size: 1.4rem; margin-bottom: 15px;">Ch√∫c em b√© v√† gia ƒë√¨nh c·ªßa b√© m·ªôt nƒÉm m·ªõi an l√†nh v√† lu√¥n lu√¥n b√¨nh an! D√π nƒÉm nay anh c√≥ l√†m em b√© bu·ªìn nhi·ªÅu nh∆∞ng m√† anh lu√¥n lu√¥n mu·ªën iu th∆∞∆°ng em b√© th√™ nhi·ªÅu ch√∫t. Hi v·ªçng nƒÉm m·ªõi n√¨ anh v·ªõi em s·∫Ω c√πng nhau ƒëi chung nh√¨u h∆°n, c∆∞·ªùi ƒë√πa v·ªõi nhau nhi·ªÅu h∆°n, tr√≤ chuy·ªán nhi·ªÅu h∆°n n·ªØa. Anh iuu em b√© Mort c·ªßa anh nhi·ªÅu l·∫Øm. Cung ch√∫c t√¢n ni√™n em b√© c·ªßa anh. Hihihi</p>
                <div class="slideshow-container" id="slide-container"></div>
            </div>
        </div>
    </div>

    <script>
        // --- C·∫§U H√åNH ·∫¢NH ·ªû ƒê√ÇY ---
        const SO_LUONG_ANH = 8; // <--- Thay s·ªë l∆∞·ª£ng ·∫£nh b·∫°n c√≥ trong folder v√†o ƒë√¢y
        const TEN_THU_MUC = "images"; // T√™n th∆∞ m·ª•c ch·ª©a ·∫£nh
        // ---------------------------

        /* --- LOGIC GAME (Gi·ªØ nguy√™n) --- */
        const player = document.getElementById('player');
        const gameScreen = document.getElementById('game-screen');
        const scoreEl = document.getElementById('score');
        let score = 0; let isRunning = false; let spawnTimer;

        function moveHandler(clientX) {
            if (!isRunning) return;
            const containerWidth = window.innerWidth;
            let x = clientX - 40;
            if (x < 0) x = 0; if (x > containerWidth - 80) x = containerWidth - 80;
            player.style.left = x + 'px';
        }
        document.addEventListener('touchmove', (e) => { if (isRunning) { e.preventDefault(); moveHandler(e.touches[0].clientX); } }, { passive: false });
        document.addEventListener('mousemove', (e) => { if (isRunning) moveHandler(e.clientX); });

        function startGame() { document.getElementById('start-screen').style.display = 'none'; gameScreen.style.display = 'block'; score = 0; scoreEl.innerText = score; isRunning = true; spawnTimer = setInterval(spawnItem, 700); requestAnimationFrame(gameLoop); }

        function spawnItem() {
            if (!isRunning) return;
            const item = document.createElement('div'); item.classList.add('item');
            const rand = Math.random();
            if (rand < 0.6) { item.innerText = 'üßß'; item.dataset.val = 20; } else if (rand < 0.85) { item.innerText = 'üåº'; item.dataset.val = 20; } else { item.innerText = 'üò¢'; item.dataset.val = -2; }
            item.style.left = Math.random() * (window.innerWidth - 50) + 'px'; item.style.top = '-60px'; gameScreen.appendChild(item);
            let y = -60; const speed = Math.random() * 3 + 4;
            function fall() {
                if (!isRunning) { item.remove(); return; }
                y += speed; item.style.top = y + 'px';
                const pRect = player.getBoundingClientRect(); const iRect = item.getBoundingClientRect();
                if (iRect.bottom >= pRect.top + 20 && iRect.right >= pRect.left + 10 && iRect.left <= pRect.right - 10 && iRect.top <= pRect.bottom) { updateScore(parseInt(item.dataset.val)); item.remove(); return; }
                if (y > window.innerHeight) { item.remove(); return; }
                requestAnimationFrame(fall);
            }
            requestAnimationFrame(fall);
        }
        function updateScore(val) { score += val; if (score < 0) score = 0; scoreEl.innerText = score; if (score >= 20) winGame(); }
        function gameLoop() { if (isRunning) requestAnimationFrame(gameLoop); }
        function winGame() { isRunning = false; clearInterval(spawnTimer); document.querySelectorAll('.item').forEach(e => e.remove()); gameScreen.style.display = 'none'; document.getElementById('win-screen').style.display = 'flex'; setInterval(createFlower, 300); }

        /* --- LOGIC T·ªé T√åNH & AUTO LOAD ·∫¢NH --- */
        const btnNo = document.getElementById('btnNo');
        const btnYes = document.getElementById('btnYes');
        const questionArea = document.getElementById('question-area');
        const finalMsg = document.getElementById('final-msg');
        let scale = 1; let noClickCount = 0;

        function jumpBtn() {
            const maxX = window.innerWidth - btnNo.offsetWidth - 20;
            const maxY = window.innerHeight - btnNo.offsetHeight - 20;
            btnNo.style.position = 'fixed'; btnNo.style.left = Math.random() * maxX + 'px'; btnNo.style.top = Math.random() * maxY + 'px'; btnNo.style.transform = 'none';
        }
        btnNo.addEventListener('touchstart', (e) => { if (noClickCount >= 1) { e.preventDefault(); jumpBtn(); } });
        btnNo.addEventListener('mouseover', () => { if (noClickCount >= 1) jumpBtn(); });
        btnNo.addEventListener('click', () => { noClickCount++; scale += 0.3; btnYes.style.transform = `translateX(-50%) scale(${scale})`; const txt = ["Hong √°?", "K√¨ z·∫≠y?", "ƒê·ª´ng m√† :(", "B·∫•m b√™n kia!"]; if (noClickCount < 4) btnNo.innerText = txt[noClickCount]; if (noClickCount >= 1) jumpBtn(); });

        // --- X·ª¨ L√ù SLIDESHOW T·ª∞ ƒê·ªòNG ---
        btnYes.addEventListener('click', () => {
            questionArea.style.display = 'none';
            finalMsg.style.display = 'block';

            // B∆∞·ªõc 1: T·∫°o HTML cho ·∫£nh t·ª± ƒë·ªông
            const container = document.getElementById('slide-container');
            container.innerHTML = ""; // X√≥a tr·∫Øng

            for (let i = 1; i <= SO_LUONG_ANH; i++) {
                // T·∫°o th·∫ª div
                const slideDiv = document.createElement('div');
                slideDiv.className = "mySlides fade";

                // T·∫°o th·∫ª img
                const img = document.createElement('img');
                img.src = `${TEN_THU_MUC}/${i}.jpg`; // ƒê∆∞·ªùng d·∫´n: images/1.jpg
                img.onerror = function () { this.style.display = 'none'; }; // ·∫®n n·∫øu l·ªói

                slideDiv.appendChild(img);
                container.appendChild(slideDiv);
            }

            // B∆∞·ªõc 2: Ch·∫°y Slideshow
            showSlides();
            setInterval(showSlides, 3000); // 3 gi√¢y ƒë·ªïi ·∫£nh

            // Hi·ªáu ·ª©ng hoa
            for (let i = 0; i < 50; i++) setTimeout(createFlower, i * 80);
        });

        let slideIndex = 0;
        function showSlides() {
            let i;
            let slides = document.getElementsByClassName("mySlides");
            if (slides.length === 0) return;
            for (i = 0; i < slides.length; i++) { slides[i].style.display = "none"; }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }
            slides[slideIndex - 1].style.display = "block";
        }

        function createFlower() {
            const f = document.createElement('div');
            f.innerText = Math.random() > 0.5 ? 'üå∏' : '‚ù§Ô∏è';
            f.classList.add('flower-bg');
            f.style.left = Math.random() * 100 + 'vw';
            f.style.animationDuration = Math.random() * 3 + 2 + 's';
            document.body.appendChild(f);
            setTimeout(() => f.remove(), 5000);
        }
    </script>
</body>

</html>